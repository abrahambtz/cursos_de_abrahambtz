(window.webpackJsonp=window.webpackJsonp||[]).push([["organization-slack-modal-app"],{"./src/udemy/js/organization-slack-modal/app.js":function(e,o,s){"use strict";s.r(o);var t,n,r,a=s("./node_modules/lodash-es/isEmpty.js"),i=s("./node_modules/mobx-react/index.module.js"),c=s("./node_modules/prop-types/index.js"),l=s.n(c),u=s("./node_modules/qs/lib/index.js"),d=s.n(u),p=s("./node_modules/react/index.js"),m=s.n(p),h=s("./src/udemy/js/organization-common/resource-context-menu/menu-items/share-to-slack-menu-item-store.mobx-store.js"),w=s("./src/udemy/js/organization-common/ufb-social-share/share-on-slack-modal.react-component.js"),y=s("./src/udemy/js/utils/ud-render-react-components.js"),E={SLACK_SHARE:"slack_share",RESOURCE_ID:"resource_id",RESOURCE_TYPE:"resource_type",CONTEXT:"context"};s.d(o,"App",(function(){return b})),s.d(o,"default",(function(){return S}));var b=Object(i.d)((r=n=function(e){function o(e){var s;return babelHelpers.classCallCheck(this,o),(s=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(o).call(this,e))).initStoreFromQueryParams(),s}return babelHelpers.inherits(o,e),babelHelpers.createClass(o,[{key:"componentDidMount",value:function(){this.store&&this.store.shareResource()}},{key:"initStoreFromQueryParams",value:function(){var e=d.a.parse(this.props.window.location.search,{ignoreQueryPrefix:!0}),o=e[E.SLACK_SHARE],s=e[E.RESOURCE_ID],t=e[E.RESOURCE_TYPE],n=e[E.CONTEXT];[o,s,t,n].every(Boolean)&&(s=parseInt(s,10),this.store=new h.a(s,t,n,this.props.window),this.cleanQueryParams(e))}},{key:"cleanQueryParams",value:function(e){delete e[E.CONTEXT],delete e[E.RESOURCE_ID],delete e[E.RESOURCE_TYPE],delete e[E.SLACK_SHARE],Object(a.a)(e)?window.history.replaceState({},null,this.props.window.location.pathname):window.history.replaceState({},null,"".concat(this.props.window.location.pathname,"?").concat(d.a.stringify(e)))}},{key:"render",value:function(){return this.store?m.a.createElement(w.a,{show:this.store.isModalShown,onHide:this.store.hideModal,onSubmit:this.store.hideModal,resourceId:this.store.resourceId,resourceType:this.store.resourceType,context:this.store.context,shareData:this.store.shareData,isUsingOldPermissionScopes:this.store.isUsingOldPermissionScopes,teamName:this.store.slackTeamName,checkSlackAuthentication:this.store.checkSlackAuthentication}):null}}]),o}(p.Component),n.propTypes={window:l.a.object},n.defaultProps={window:window},t=r))||t;function S(e,o){Object(y.a)(e,".ud-component--organization-slack-modal--app",b,o)}}}]);